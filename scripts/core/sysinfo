#!/usr/bin/env bash
# =============================================================================
# sysinfo - Cross-platform system information
# =============================================================================

set -euo pipefail

echo "=== System ==="
echo "Host: $(hostname)"
echo "User: $USER"
echo "Date: $(date)"

if [[ "$OSTYPE" == darwin* ]]; then
    echo "OS: macOS $(sw_vers -productVersion)"
    echo "CPU: $(sysctl -n machdep.cpu.brand_string)"
    echo "RAM: $(( $(sysctl -n hw.memsize) / 1024 / 1024 / 1024 ))GB"
else
    echo "OS: $(grep PRETTY_NAME /etc/os-release 2>/dev/null | cut -d'"' -f2 || uname -s)"
    echo "CPU: $(grep 'model name' /proc/cpuinfo 2>/dev/null | head -1 | cut -d':' -f2 | xargs || echo "N/A")"
    echo "RAM: $(free -h 2>/dev/null | awk '/Mem:/{print $2}' || echo "N/A")"
fi

echo
echo "=== Disk ==="
df -h 2>/dev/null | grep -E '^(/dev/|Filesystem)' | head -5

echo
echo "=== Uptime ==="
uptime
